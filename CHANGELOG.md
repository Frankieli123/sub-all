# 更新日志

## [1.0.0] - 2024-12-28

### 🎉 首次发布

这是 CF-Workers-SUB 的 Node.js 版本首次发布，完全按照原 Cloudflare Worker 项目逻辑进行转换。

### ✨ 新功能

#### 核心功能
- **完整的订阅聚合服务**：支持多个订阅源聚合、去重、格式转换
- **多格式订阅支持**：
  - Base64 格式订阅
  - Clash 配置文件下载
  - Singbox 配置文件下载
  - Surge 配置文件下载
  - QuantumultX 配置文件下载
  - Loon 配置文件下载

#### Web 管理界面
- **完整的管理界面**：在线编辑订阅内容
- **二维码生成**：自动生成订阅链接二维码
- **访客订阅支持**：提供访客模式访问
- **实时保存**：自动保存编辑内容

#### 访问控制
- **Token 验证**：基于 token 的访问权限控制
- **访客模式**：支持受限的访客访问
- **异常访问检测**：自动检测和记录异常访问

#### 通知功能
- **Telegram 通知**：访问日志实时推送到 Telegram
- **IP 地理位置**：自动查询访问者地理位置信息
- **访问统计**：详细的访问日志记录

#### 存储系统
- **文件系统存储**：使用文件系统替代 Cloudflare KV 存储
- **数据持久化**：支持订阅内容的持久化存储
- **配置管理**：完整的环境变量配置系统

### 🚀 部署支持

#### 多种部署方式
- **一键部署脚本**：`quick-deploy.sh` 自动化部署
- **Docker 支持**：完整的 Docker 和 Docker Compose 配置
- **手动部署**：详细的手动部署指南

#### 进程管理
- **PM2 支持**：完整的 PM2 配置和管理
- **systemd 服务**：Linux 系统服务配置
- **自动重启**：进程异常自动重启

#### 反向代理
- **Nginx 配置**：完整的 Nginx 反向代理配置
- **HTTPS 支持**：SSL/TLS 证书配置指南
- **域名绑定**：支持自定义域名访问

### 📚 文档

#### 完整的部署文档
- **VPS 部署指南**：详细的 VPS 部署步骤
- **Docker 部署指南**：容器化部署说明
- **配置参考**：完整的配置项说明
- **故障排除**：常见问题解决方案

#### 技术文档
- **API 文档**：订阅接口使用说明
- **架构说明**：技术架构和设计思路
- **开发指南**：二次开发参考

### 🔧 技术栈

- **运行环境**：Node.js 16.0.0+
- **Web 框架**：Express.js
- **HTTP 客户端**：Axios
- **进程管理**：PM2
- **容器化**：Docker & Docker Compose
- **存储**：文件系统（替代 Cloudflare KV）

### 📊 性能特性

- **内存使用**：最低 512MB RAM
- **存储需求**：最低 1GB 可用空间
- **并发支持**：支持多进程集群模式
- **缓存机制**：内置请求缓存和去重

### 🔒 安全特性

- **访问控制**：基于 token 的权限验证
- **防火墙配置**：详细的安全配置指南
- **进程隔离**：Docker 容器隔离
- **日志审计**：完整的访问日志记录

### 🌐 兼容性

- **操作系统**：Ubuntu 18.04+, CentOS 7+, Debian 9+
- **Node.js**：16.0.0+ (推荐 18.x)
- **浏览器**：支持所有现代浏览器
- **客户端**：兼容所有主流代理客户端

### 📝 配置示例

```env
# 基础配置
PORT=3000
TOKEN=your-secure-token
EXTERNAL_URL=http://your-server:3000

# Telegram 通知
TGTOKEN=your-telegram-bot-token
TGID=your-telegram-chat-id
TG=1

# 订阅源
LINK=your-subscription-links
LINKSUB=your-subscription-urls
```

### 🎯 使用场景

- **个人使用**：聚合多个机场订阅
- **团队共享**：提供团队订阅服务
- **企业部署**：内网订阅管理系统
- **开发测试**：订阅格式转换测试

### 🔄 迁移指南

从 Cloudflare Worker 版本迁移：
1. 导出现有配置和订阅内容
2. 按照部署指南安装 Node.js 版本
3. 导入配置和数据
4. 测试所有功能正常工作

### 🤝 贡献

欢迎提交 Issue 和 Pull Request！

### 📄 许可证

MIT License

### 🙏 致谢

- 原项目：[CF-Workers-SUB](https://github.com/cmliu/CF-Workers-SUB)
- 感谢所有测试用户和贡献者
